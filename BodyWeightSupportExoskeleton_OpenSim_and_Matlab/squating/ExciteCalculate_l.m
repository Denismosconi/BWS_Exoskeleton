function [Excites] = ExciteCalculate_l(t,model,state)
%UNTITLED2 此处显示有关此函数的摘要
%   此处显示详细说明

%右腿支撑时的控制；

import org.opensim.modeling.*;

% 这里采用逆动态控制方法；
% 右腿支撑动力学模型：

m1 = 2.4;
m2 = 2.0;
m3 = 2.3*2*1;
m4 = 2.0*1;
m5 = 2.4*1;
m6 = 0.8*1;
I1zz = 87140.978/1000000;  % 这里的z轴是stl坐标系的-y轴；
I2zz = 51619.741/1000000;
I3zz = 89.002*11.5*2/1000000;
I4zz = 51619.741/1000000;
I5zz = 87140.978/1000000;
I6zz = 22644.142/1000000;
g1x = 0.3839;
g1y = 0.0017;
g2x = 0.3558;
g2y =  -2.1120e-04*0;
g3x = 0.0622;
g3y = -0.0936;
g4x = 0.2642;
g4y = 0;
g5x = 0.2661;
g5y = -0.0015;
g6x = 0.06;
g6y = 0.0033;
g = 9.806645;
L1 = 0.65;
L2 = 0.62;
L4 = 0.62;
L5 = 0.65;
pcx = 0.0622;
pcy = -0.0911;
lcx = pcx + 0.2;
lcy = pcy;
% pcz = -0.1096;
% fcx = 0.06;
% fcy = 0.0033;
% fcz = 0;

j6 = Coordinate.safeDownCast(model.updComponent('jb5b6/jb5b6_coord_0'));
j5 = Coordinate.safeDownCast(model.updComponent('jb55b5/jb55b5_coord_0'));
j4 = Coordinate.safeDownCast(model.updComponent('jb41b42/jb41b42_coord_0'));
j3 = Coordinate.safeDownCast(model.updComponent('jb12b13/jb12b13_coord_0'));
j2 = Coordinate.safeDownCast(model.updComponent('jb26b34/jb26b34_coord_0'));
j1 = Coordinate.safeDownCast(model.updComponent('jb34b35/jb34b35_coord_0'));
q1 = -j1.getValue(state);
q2 = -j2.getValue(state);
q3 = -j3.getValue(state);
q4 = -j4.getValue(state);
q5 = -j5.getValue(state);
q6 = -j6.getValue(state);
w1 = -j1.getSpeedValue(state);
w2 = -j2.getSpeedValue(state);
w3 = -j3.getSpeedValue(state);
w4 = -j4.getSpeedValue(state);
w5 = -j5.getSpeedValue(state);
w6 = -j6.getSpeedValue(state);
e1 = -j1.getAccelerationValue(state);
e2 = -j2.getAccelerationValue(state);
e3 = -j3.getAccelerationValue(state);
e4 = -j4.getAccelerationValue(state);
e5 = -j5.getAccelerationValue(state);
e6 = -j6.getAccelerationValue(state);

M =[ I1zz + I2zz + I3zz + I4zz + I5zz + I6zz + L1^2*m2 + L1^2*m3 + L1^2*m4 + L2^2*m3 + L1^2*m5 + L2^2*m4 + L1^2*m6 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g1x^2*m1 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g1y^2*m1 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - 2*L1*g5x*m5*cos(q2 + q3 + q4 + q5) - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + 2*L1*g5y*m5*sin(q2 + q3 + q4 + q5) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) + 2*L1*g3x*m3*cos(q2 + q3) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - 2*L1*g3y*m3*sin(q2 + q3) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L1*L2*m3*cos(q2) + 2*L1*L2*m4*cos(q2) + 2*L1*L2*m5*cos(q2) + 2*L1*L2*m6*cos(q2) + 2*L4*L5*m6*cos(q5) + 2*L1*g2x*m2*cos(q2) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L1*g2y*m2*sin(q2) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - 2*L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - 2*L1*L4*m5*cos(q2 + q3 + q4) - 2*L1*L4*m6*cos(q2 + q3 + q4) - 2*L2*L5*m6*cos(q3 + q4 + q5) + 2*L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - 2*L1*g4x*m4*cos(q2 + q3 + q4) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + 2*L1*g4y*m4*sin(q2 + q3 + q4) + 2*L2*g5y*m5*sin(q3 + q4 + q5) - 2*L1*L5*m6*cos(q2 + q3 + q4 + q5), I2zz + I3zz + I4zz + I5zz + I6zz + L2^2*m3 + L2^2*m4 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + L1*L2*m3*cos(q2) + L1*L2*m4*cos(q2) + L1*L2*m5*cos(q2) + L1*L2*m6*cos(q2) + 2*L4*L5*m6*cos(q5) + L1*g2x*m2*cos(q2) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L1*g2y*m2*sin(q2) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - 2*L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + 2*L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6)
                                                                                                                  I2zz + I3zz + I4zz + I5zz + I6zz + L2^2*m3 + L2^2*m4 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + L1*L2*m3*cos(q2) + L1*L2*m4*cos(q2) + L1*L2*m5*cos(q2) + L1*L2*m6*cos(q2) + 2*L4*L5*m6*cos(q5) + L1*g2x*m2*cos(q2) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L1*g2y*m2*sin(q2) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - 2*L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + 2*L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 I2zz + I3zz + I4zz + I5zz + I6zz + L2^2*m3 + L2^2*m4 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - 2*L2*L5*m6*cos(q3 + q4 + q5) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + 2*L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                       I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                 I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                               I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                           I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6)
                                                                                                                                                                                                                                                                                                                                       I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                               m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                         I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                               m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                         I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + m5*g5x^2 + m6*g6x^2 + m5*g5y^2 + m6*g6y^2 + I5zz + I6zz,                                                                                                                                                                                                                               m6*g6x^2 + L5*m6*cos(q6)*g6x + m6*g6y^2 - L5*m6*sin(q6)*g6y + I6zz
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              m6*g6x^2 + L5*m6*cos(q6)*g6x + m6*g6y^2 - L5*m6*sin(q6)*g6y + I6zz,                                                                                             I6zz + m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6))^2 + m6*(g6x*cos(q1 + q2 + q3 + q4 + q5 + q6) - g6y*sin(q1 + q2 + q3 + q4 + q5 + q6))^2];
 
C =[ L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) - L1*g3y*m3*w2*cos(q2 + q3) - L1*g3y*m3*w3*cos(q2 + q3) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L1*g3x*m3*w2*sin(q2 + q3) - L1*g3x*m3*w3*sin(q2 + q3) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L1*L2*m3*w2*sin(q2) - L1*L2*m4*w2*sin(q2) - L1*L2*m5*w2*sin(q2) - L1*L2*m6*w2*sin(q2) - L4*L5*m6*w5*sin(q5) - L1*g2y*m2*w2*cos(q2) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L1*g2x*m2*w2*sin(q2) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w1*sin(q2 + q3 + q4) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m6*w1*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w1*cos(q2 + q3 + q4) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w1*sin(q2 + q3 + q4) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) - L1*g3y*m3*w1*cos(q2 + q3) - L1*g3y*m3*w2*cos(q2 + q3) - L1*g3y*m3*w3*cos(q2 + q3) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L1*g3x*m3*w1*sin(q2 + q3) - L1*g3x*m3*w2*sin(q2 + q3) - L1*g3x*m3*w3*sin(q2 + q3) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L1*L2*m3*w1*sin(q2) - L1*L2*m3*w2*sin(q2) - L1*L2*m4*w1*sin(q2) - L1*L2*m4*w2*sin(q2) - L1*L2*m5*w1*sin(q2) - L1*L2*m5*w2*sin(q2) - L1*L2*m6*w1*sin(q2) - L1*L2*m6*w2*sin(q2) - L4*L5*m6*w5*sin(q5) - L1*g2y*m2*w1*cos(q2) - L1*g2y*m2*w2*cos(q2) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L1*g2x*m2*w1*sin(q2) - L1*g2x*m2*w2*sin(q2) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w1*sin(q2 + q3 + q4) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m6*w1*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w1*cos(q2 + q3 + q4) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w1*sin(q2 + q3 + q4) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) - L1*g3y*m3*w1*cos(q2 + q3) - L1*g3y*m3*w2*cos(q2 + q3) - L1*g3y*m3*w3*cos(q2 + q3) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L1*g3x*m3*w1*sin(q2 + q3) - L1*g3x*m3*w2*sin(q2 + q3) - L1*g3x*m3*w3*sin(q2 + q3) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*g3y*m3*w1*cos(q3) - L2*g3y*m3*w2*cos(q3) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L2*g3x*m3*w1*sin(q3) - L2*g3x*m3*w2*sin(q3) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w1*sin(q2 + q3 + q4) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m6*w1*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w1*cos(q2 + q3 + q4) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w1*sin(q2 + q3 + q4) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), m6*(w1 + w2 + w3 + w4 + w5 + w6)*(L1*g6y*cos(q2 + q3 + q4 + q5 + q6) + L1*g6x*sin(q2 + q3 + q4 + q5 + q6) + L2*g6y*cos(q3 + q4 + q5 + q6) + L2*g6x*sin(q3 + q4 + q5 + q6) - L4*g6y*cos(q5 + q6) - L4*g6x*sin(q5 + q6) - L5*g6y*cos(q6) - L5*g6x*sin(q6))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           L2*L5*m6*w3*sin(q3 + q4 + q5) - L1*L4*m5*w1*sin(q2 + q3 + q4) - L1*L4*m6*w1*sin(q2 + q3 + q4) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) - L1*g4y*m4*w1*cos(q2 + q3 + q4) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) - L1*g4x*m4*w1*sin(q2 + q3 + q4) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L1*g3y*m3*w1*cos(q2 + q3) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L1*g3x*m3*w1*sin(q2 + q3) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) + L1*L2*m3*w1*sin(q2) + L1*L2*m4*w1*sin(q2) + L1*L2*m5*w1*sin(q2) + L1*L2*m6*w1*sin(q2) - L4*L5*m6*w5*sin(q5) + L1*g2y*m2*w1*cos(q2) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) + L1*g2x*m2*w1*sin(q2) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*g3y*m3*w1*cos(q3) - L2*g3y*m3*w2*cos(q3) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L2*g3x*m3*w1*sin(q3) - L2*g3x*m3*w2*sin(q3) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                    -m6*(L4*g6y*cos(q5 + q6) - L2*g6x*sin(q3 + q4 + q5 + q6) - L2*g6y*cos(q3 + q4 + q5 + q6) + L4*g6x*sin(q5 + q6) + L5*g6y*cos(q6) + L5*g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     L1*g3y*m3*w1*cos(q2 + q3) - L1*L4*m5*w1*sin(q2 + q3 + q4) - L1*L4*m6*w1*sin(q2 + q3 + q4) - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L1*g4y*m4*w1*cos(q2 + q3 + q4) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L1*g4x*m4*w1*sin(q2 + q3 + q4) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L1*g3x*m3*w1*sin(q2 + q3) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) + L2*g3y*m3*w1*cos(q3) + L2*g3y*m3*w2*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) + L2*g3x*m3*w1*sin(q3) + L2*g3x*m3*w2*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           L2*g3y*m3*w1*cos(q3) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*g3y*m3*w2*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) + L2*g3x*m3*w1*sin(q3) + L2*g3x*m3*w2*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                            -m6*(L4*g6y*cos(q5 + q6) + L4*g6x*sin(q5 + q6) + L5*g6y*cos(q6) + L5*g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*w1*sin(q2 + q3 + q4) - L1*L4*m6*w1*sin(q2 + q3 + q4) - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L1*g4y*m4*w1*cos(q2 + q3 + q4) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L1*g4x*m4*w1*sin(q2 + q3 + q4) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                            -m6*(L4*g6y*cos(q5 + q6) + L4*g6x*sin(q5 + q6) + L5*g6y*cos(q6) + L5*g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   L4*g6y*m6*w1*cos(q5 + q6) - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         L4*g6y*m6*w1*cos(q5 + q6) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L5*m6*w1*sin(q3 + q4 + q5) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             L4*g6y*m6*w1*cos(q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             L4*g6y*m6*w1*cos(q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    -L5*m6*w6*(g6y*cos(q6) + g6x*sin(q6)),                                                                                                                                                                                                               -L5*m6*(g6y*cos(q6) + g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               L4*g6y*m6*w1*cos(q5 + q6) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L5*g6y*m6*w1*cos(q6) + L5*g6y*m6*w2*cos(q6) + L5*g6y*m6*w3*cos(q6) + L5*g6y*m6*w4*cos(q6) + L5*g6y*m6*w5*cos(q6) + L5*g6x*m6*w1*sin(q6) + L5*g6x*m6*w2*sin(q6) + L5*g6x*m6*w3*sin(q6) + L5*g6x*m6*w4*sin(q6) + L5*g6x*m6*w5*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  m6*(L4*g6y*w1*cos(q5 + q6) - L2*g6y*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*w2*sin(q3 + q4 + q5 + q6) - L2*g6y*w1*cos(q3 + q4 + q5 + q6) + L4*g6y*w2*cos(q5 + q6) + L4*g6y*w3*cos(q5 + q6) + L4*g6y*w4*cos(q5 + q6) + L4*g6x*w1*sin(q5 + q6) + L4*g6x*w2*sin(q5 + q6) + L4*g6x*w3*sin(q5 + q6) + L4*g6x*w4*sin(q5 + q6) + L5*g6y*w1*cos(q6) + L5*g6y*w2*cos(q6) + L5*g6y*w3*cos(q6) + L5*g6y*w4*cos(q6) + L5*g6y*w5*cos(q6) + L5*g6x*w1*sin(q6) + L5*g6x*w2*sin(q6) + L5*g6x*w3*sin(q6) + L5*g6x*w4*sin(q6) + L5*g6x*w5*sin(q6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              m6*(L4*g6y*w1*cos(q5 + q6) + L4*g6y*w2*cos(q5 + q6) + L4*g6y*w3*cos(q5 + q6) + L4*g6y*w4*cos(q5 + q6) + L4*g6x*w1*sin(q5 + q6) + L4*g6x*w2*sin(q5 + q6) + L4*g6x*w3*sin(q5 + q6) + L4*g6x*w4*sin(q5 + q6) + L5*g6y*w1*cos(q6) + L5*g6y*w2*cos(q6) + L5*g6y*w3*cos(q6) + L5*g6y*w4*cos(q6) + L5*g6y*w5*cos(q6) + L5*g6x*w1*sin(q6) + L5*g6x*w2*sin(q6) + L5*g6x*w3*sin(q6) + L5*g6x*w4*sin(q6) + L5*g6x*w5*sin(q6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              m6*(L4*g6y*w1*cos(q5 + q6) + L4*g6y*w2*cos(q5 + q6) + L4*g6y*w3*cos(q5 + q6) + L4*g6y*w4*cos(q5 + q6) + L4*g6x*w1*sin(q5 + q6) + L4*g6x*w2*sin(q5 + q6) + L4*g6x*w3*sin(q5 + q6) + L4*g6x*w4*sin(q5 + q6) + L5*g6y*w1*cos(q6) + L5*g6y*w2*cos(q6) + L5*g6y*w3*cos(q6) + L5*g6y*w4*cos(q6) + L5*g6y*w5*cos(q6) + L5*g6x*w1*sin(q6) + L5*g6x*w2*sin(q6) + L5*g6x*w3*sin(q6) + L5*g6x*w4*sin(q6) + L5*g6x*w5*sin(q6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           L5*m6*(g6y*cos(q6) + g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5),                                                                                                                                                                                                                                                                                      0];
 
G =[g*g6y*m6*cos(q1 + q2 + q3 + q4 + q5 + q6) + g*g6x*m6*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*g*m5*sin(q1 + q2 + q3 + q4) + L4*g*m6*sin(q1 + q2 + q3 + q4) + g*g4y*m4*cos(q1 + q2 + q3 + q4) + g*g4x*m4*sin(q1 + q2 + q3 + q4) - L2*g*m3*sin(q1 + q2) - L2*g*m4*sin(q1 + q2) - L2*g*m5*sin(q1 + q2) - L2*g*m6*sin(q1 + q2) - g*g2y*m2*cos(q1 + q2) - g*g2x*m2*sin(q1 + q2) - L1*g*m2*sin(q1) - L1*g*m3*sin(q1) - L1*g*m4*sin(q1) - L1*g*m5*sin(q1) - L1*g*m6*sin(q1) - g*g1y*m1*cos(q1) - g*g1x*m1*sin(q1) + L5*g*m6*sin(q1 + q2 + q3 + q4 + q5) + g*g5y*m5*cos(q1 + q2 + q3 + q4 + q5) + g*g5x*m5*sin(q1 + q2 + q3 + q4 + q5) - g*g3y*m3*cos(q1 + q2 + q3) - g*g3x*m3*sin(q1 + q2 + q3)
                                                                                                                                                                                          g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2) + L5*sin(q1 + q2 + q3 + q4 + q5)) - g*m2*(g2y*cos(q1 + q2) + g2x*sin(q1 + q2)) + g*m4*(g4y*cos(q1 + q2 + q3 + q4) + g4x*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2)) - g*m3*(L2*sin(q1 + q2) + g3y*cos(q1 + q2 + q3) + g3x*sin(q1 + q2 + q3)) + g*m5*(L4*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2) + g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                           g*m4*(g4y*cos(q1 + q2 + q3 + q4) + g4x*sin(q1 + q2 + q3 + q4)) - g*m3*(g3y*cos(q1 + q2 + q3) + g3x*sin(q1 + q2 + q3)) + g*m5*(L4*sin(q1 + q2 + q3 + q4) + g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5)) + g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*sin(q1 + q2 + q3 + q4) + L5*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                                                                                        g*m4*(g4y*cos(q1 + q2 + q3 + q4) + g4x*sin(q1 + q2 + q3 + q4)) + g*m5*(L4*sin(q1 + q2 + q3 + q4) + g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5)) + g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*sin(q1 + q2 + q3 + q4) + L5*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 g*m5*(g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5)) + g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6))];
Jp =[   pcy*sin(q1 + q2 + q3) - pcx*cos(q1 + q2 + q3) - L2*cos(q1 + q2) - L1*cos(q1),   pcy*sin(q1 + q2 + q3) - pcx*cos(q1 + q2 + q3) - L2*cos(q1 + q2),   pcy*sin(q1 + q2 + q3) - pcx*cos(q1 + q2 + q3), 0, 0, 0
 - L1*sin(q1) - pcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - pcx*sin(q1 + q2 + q3), - pcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - pcx*sin(q1 + q2 + q3), - pcy*cos(q1 + q2 + q3) - pcx*sin(q1 + q2 + q3), 0, 0, 0
    1,      1,   1, 0, 0, 0];

Jp_dot =[L2*sin(q1 + q2)*(w1 + w2) + L1*sin(q1)*w1 + pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3) + pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3), L2*sin(q1 + q2)*(w1 + w2) + pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3) + pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3),  (pcy*cos(q1 + q2 + q3) + pcx*sin(q1 + q2 + q3))*(w1 + w2 + w3), 0, 0, 0
 pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3) - L1*cos(q1)*w1 - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3) - L2*cos(q1 + q2)*(w1 + w2), pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3) - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3) - L2*cos(q1 + q2)*(w1 + w2), -(pcx*cos(q1 + q2 + q3) - pcy*sin(q1 + q2 + q3))*(w1 + w2 + w3), 0, 0, 0
                                                                                                                                                                                                                                                              0,                                                                                                                                                                                                                               0,                                                                                                                     0, 0, 0, 0];
Jload =[   lcy*sin(q1 + q2 + q3) - lcx*cos(q1 + q2 + q3) - L2*cos(q1 + q2) - L1*cos(q1),   lcy*sin(q1 + q2 + q3) - lcx*cos(q1 + q2 + q3) - L2*cos(q1 + q2),   lcy*sin(q1 + q2 + q3) - lcx*cos(q1 + q2 + q3), 0, 0, 0
 - L1*sin(q1) - lcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - lcx*sin(q1 + q2 + q3), - lcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - lcx*sin(q1 + q2 + q3), - lcy*cos(q1 + q2 + q3) - lcx*sin(q1 + q2 + q3), 0, 0, 0
  1,   1,   1, 0, 0, 0];                                                                                                                                                                                                                                                                                                                 
% Jf1 =[ L4*cos(q1 + q2 + q3 + q4) - L2*cos(q1 + q2) + fcx*cos(q1 + q2 + q3 + q4 + q5 + q6) + L5*cos(q1 + q2 + q3 + q4 + q5) - L1*cos(q1) - fcy*sin(q1 + q2 + q3 + q4 + q5 + q6), L4*cos(q1 + q2 + q3 + q4) - L2*cos(q1 + q2) + fcx*cos(q1 + q2 + q3 + q4 + q5 + q6) + L5*cos(q1 + q2 + q3 + q4 + q5) - fcy*sin(q1 + q2 + q3 + q4 + q5 + q6), L4*cos(q1 + q2 + q3 + q4) + fcx*cos(q1 + q2 + q3 + q4 + q5 + q6) + L5*cos(q1 + q2 + q3 + q4 + q5) - fcy*sin(q1 + q2 + q3 + q4 + q5 + q6), L4*cos(q1 + q2 + q3 + q4) + fcx*cos(q1 + q2 + q3 + q4 + q5 + q6) + L5*cos(q1 + q2 + q3 + q4 + q5) - fcy*sin(q1 + q2 + q3 + q4 + q5 + q6), fcx*cos(q1 + q2 + q3 + q4 + q5 + q6) + L5*cos(q1 + q2 + q3 + q4 + q5) - fcy*sin(q1 + q2 + q3 + q4 + q5 + q6), fcx*cos(q1 + q2 + q3 + q4 + q5 + q6) - fcy*sin(q1 + q2 + q3 + q4 + q5 + q6)
%  L4*sin(q1 + q2 + q3 + q4) - L1*sin(q1) - L2*sin(q1 + q2) + fcy*cos(q1 + q2 + q3 + q4 + q5 + q6) + fcx*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5), L4*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2) + fcy*cos(q1 + q2 + q3 + q4 + q5 + q6) + fcx*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5), L4*sin(q1 + q2 + q3 + q4) + fcy*cos(q1 + q2 + q3 + q4 + q5 + q6) + fcx*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5), L4*sin(q1 + q2 + q3 + q4) + fcy*cos(q1 + q2 + q3 + q4 + q5 + q6) + fcx*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5), fcy*cos(q1 + q2 + q3 + q4 + q5 + q6) + fcx*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5), fcy*cos(q1 + q2 + q3 + q4 + q5 + q6) + fcx*sin(q1 + q2 + q3 + q4 + q5 + q6)
%                                                                                                                                                                                                                                                1,                                                                                                                                                                                                                               1,                                                                                                                                                                                                       1,                                                                                                                                                                                                       1,                                                                                                                                                               1,                                                                                                               1];
%  
% 
%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
%
% Jf2 =[ 0, 0, 0, L4*sin(q4) + fcy*cos(q4 + q5 + q6) + fcx*sin(q4 + q5 + q6) + L5*sin(q4 + q5), fcy*cos(q4 + q5 + q6) + fcx*sin(q4 + q5 + q6) + L5*sin(q4 + q5), fcy*cos(q4 + q5 + q6) + fcx*sin(q4 + q5 + q6)
%  0, 0, 0, fcy*sin(q4 + q5 + q6) - L5*cos(q4 + q5) - fcx*cos(q4 + q5 + q6) - L4*cos(q4), fcy*sin(q4 + q5 + q6) - L5*cos(q4 + q5) - fcx*cos(q4 + q5 + q6), fcy*sin(q4 + q5 + q6) - fcx*cos(q4 + q5 + q6)
%  0, 0, 0,                                                                                                       1,                                                                                       1,                                                               1];
pHRI_load = BushingForce.safeDownCast(model.updComponent('pHRI_load'));
iv_load = pHRI_load.getRecordValues(state);
Fload = [iv_load.get(0);iv_load.get(1);iv_load.get(5)]; % 外骨骼受到的力；

pHRI = BushingForce.safeDownCast(model.updComponent('pHRI'));
iv = pHRI.getRecordValues(state);
Fp = [iv.get(7-1);iv.get(8-1);iv.get(12-1)];

%% 滑模控制；
global Fd_last;
global Fd_dot_last;
global Fd_dot2_last;
global Fp_last;
global Fp_dot_last;
global Fp_dot2_last
global rd_last;
global rd_dot_last;

global r r_dot r_dot2;
global rd rd_dot rd_dot2;

global r_last;
global r_dot_last;

global Fp_filter;
global Fload_filter;
global Fp_filter_aver;
global Fload_filter_aver;

global rd_filter;
global rd_filter_aver;

global rd_dot_filter;
global rd_dot_filter_aver;

global rd_dot2_filter;
global rd_dot2_filter_aver;

global r_dot_filter;
global r_dot_filter_aver;

global r_dot2_filter;
global r_dot2_filter_aver;

global rd_td;
global rd_dot_td;
global rd_dot_td2;
global rd_dot2_td;
global rd_td_last;
global rd_dot_td_last;
global rd_dot_td2_last;
global rd_dot2_td_last;

filter_size = 10;
filter_size2 = 100;
Fp_filter(:,2:filter_size) = Fp_filter(:,1:filter_size-1);
Fp_filter(:,1) = Fp;
Fp_filter_aver = sum(Fp_filter,2)/filter_size;

Fload_filter(:,2:filter_size) = Fload_filter(:,1:filter_size-1);
Fload_filter(:,1) = Fload;
Fload_filter_aver = sum(Fload_filter,2)/filter_size;


Jp_33 = Jp(1:3,1:3);
Jp_dot_33 = Jp_dot(1:3,1:3);
Jload_33 = Jload(1:3,1:3);
M1 = M(1:3,1:3); M2 = M(1:3,4:6); M3 = M(4:6,1:3); M4 = M(4:6,4:6);
C1 = C(1:3,1:3); C2 = C(1:3,4:6); C3 = C(4:6,1:3); C4 = C(4:6,4:6);
G1 = G(1:3,:); G2 = G(4:6,:);
K = 5;

Fd = -1/K*Fload;
% Fd = [0;0;0];




r = [- L1*sin(q1) - pcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - pcx*sin(q1 + q2 + q3)
        L2*cos(q1 + q2) + pcx*cos(q1 + q2 + q3) - pcy*sin(q1 + q2 + q3) + L1*cos(q1)
        q1 + q2 + q3];
r_dot = [pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3) - L1*cos(q1)*w1 - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3) - L2*cos(q1 + q2)*(w1 + w2)
 - L2*sin(q1 + q2)*(w1 + w2) - L1*sin(q1)*w1 - pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3) - pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3)
w1 + w2 + w3];
r_dot2 = [ L1*sin(q1)*w1^2 - L1*cos(q1)*e1 - pcx*cos(q1 + q2 + q3)*(e1 + e2 + e3) + pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3)^2 + pcy*sin(q1 + q2 + q3)*(e1 + e2 + e3) + pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3)^2 + L2*sin(q1 + q2)*(w1 + w2)^2 - L2*cos(q1 + q2)*(e1 + e2)
 pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3)^2 - L1*cos(q1)*w1^2 - L1*sin(q1)*e1 - pcy*cos(q1 + q2 + q3)*(e1 + e2 + e3) - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3)^2 - pcx*sin(q1 + q2 + q3)*(e1 + e2 + e3) - L2*sin(q1 + q2)*(e1 + e2) - L2*cos(q1 + q2)*(w1 + w2)^2
e1 + e2 + e3];

% [r(1), r_dot(1)] = TD(r(1),r_last(1),r_dot_last(1),2000,0.01);
% [r(2), r_dot(2)] = TD(r(2),r_last(2),r_dot_last(2),200,0.01);
% [r(3), r_dot(3)] = TD(r(3),r_last(3),r_dot_last(3),2000,0.05);

r_dot_filter(:,2:filter_size) = r_dot_filter(:,1:filter_size-1);
r_dot_filter(:,1) = r_dot;
r_dot_filter_aver = sum(r_dot_filter,2)/filter_size;


r_dot2_filter(:,2:filter_size) = r_dot2_filter(:,1:filter_size-1);
r_dot2_filter(:,1) = r_dot2;
r_dot2_filter_aver = sum(r_dot2_filter,2)/filter_size;


Fd_dot = (Fd - Fd_last)/0.001;
Fd_dot = (Fd_dot + Fd_dot_last)/2;
Fd_dot2 = (Fd_dot - Fd_dot_last)/0.001;
Fd_dot2 = (Fd_dot2 + Fd_dot2_last)/2;

kpxy = 10000;
kpthetaz = 500;
delt_F = Fp - Fd;
% delt_F = Fp_filter_aver - Fd;




rd = [0.001/(10+1000)*delt_F(1);0.001/1010*delt_F(2);0.001/50.5*delt_F(3)] + ...
    r + ...
    [1000/1010*rd_last(1);1000/1010*rd_last(2);50/50.5*rd_last(3)] - ...
    [1000/1010*r_last(1);1000/1010*r_last(2);50/(0.5+50)*r_last(3)];

%% 采用跟踪微分器来解决rd_dot和rd_dot2;
global change_flag;
if change_flag==1
    rd_td_last = rd;
end

[rd_td(1), rd_dot_td(1)] = TD(rd(1),rd_td_last(1),rd_dot_td_last(1),2000,0.01);
[rd_dot_td2(1), rd_dot2_td(1)] = TD(rd_dot_td(1),rd_dot_td2_last(1),rd_dot2_td_last(1),100,0.02);

[rd_td(2), rd_dot_td(2)] = TD(rd(2),rd_td_last(2),rd_dot_td_last(2),200,0.01);
[rd_dot_td2(2), rd_dot2_td(2)] = TD(rd_dot_td(2),rd_dot_td2_last(2),rd_dot2_td_last(2),100,0.002);

[rd_td(3), rd_dot_td(3)] = TD(rd(3),rd_td_last(3),rd_dot_td_last(3),2000,0.05);
[rd_dot_td2(3), rd_dot2_td(3)] = TD(rd_dot_td(3),rd_dot_td2_last(3),rd_dot2_td_last(3),1000,0.02);
rd_td_last = rd_td;
rd_dot_td_last = rd_dot_td;
rd_dot_td2_last = rd_dot_td2;
rd_dot2_td_last = rd_dot2_td;
%%














rd_dot = (rd - rd_last)/0.001;
% rd_dot = [0;0;0];
rd_dot_filter(:,2:filter_size) = rd_dot_filter(:,1:filter_size-1);
rd_dot_filter(:,1) = rd_dot;
rd_dot_filter_aver = sum(rd_dot_filter,2)/filter_size;

% Fp_dot2 = (Fp_dot - Fp_dot_last)/0.001;
% Fp_dot2 = (Fp_dot2 + Fp_dot2_last)/2;
% delt_F_dot2 = Fp_dot2 - Fd_dot2;
% rd_dot2 = [delt_F_dot2(1)/kpxy;delt_F_dot2(2)/kpxy;delt_F_dot2(3)/1000] + r_dot2;
rd_dot2 = (rd_dot - rd_dot_last)/0.001;
% rd_dot2 = [0;0;0];
rd_dot2_filter(:,2:filter_size) = rd_dot2_filter(:,1:filter_size-1);
rd_dot2_filter(:,1) = rd_dot2;
rd_dot2_filter_aver = sum(rd_dot2_filter,2)/filter_size;

iJp33 = inv(Jp_33);
A = M1*iJp33;
B = C1*iJp33 - A*Jp_dot_33*iJp33;
F = -M2*[e4;e5;e6]*0 - C2*[w4;w5;w6]*0 - Jp_33'*Fp + Jp_33'*(diag([5 5 5])/5*(Fp-Fd))*2 - Jload_33'*Fload;

% Kp = diag([0.2 20 2])*20*6*2;
% Kd = diag([2 20 2])*1*2;
Kp = diag([20 20 20])/100;
Kd = diag([1 1 1])/100;
K = diag([2 2 2]);
K2 = diag([10000 10000 500]);
K3 = diag([1000 1000 50]);
Km = diag([100 100 100])/0.1;
Kp2 = (Kp - K*K2*inv(inv(Jp_33')*A))*Km - K2;
Kd2 = (Kd - K*K3*inv(inv(Jp_33')*A))*Km - K3;





% err_p = rd_td - r;
global err_p_filter;
global err_p_filter_aver;
err_p = rd - r;
% err_p_filter(:,2:20) = err_p_filter(:,1:19);
% err_p_filter(:,1) = err_p;
% err_p_filter_aver = sum(err_p_filter_aver,2)/20;

err_w = rd_dot_td2 - r_dot;

for rd2i=1:3
    if rd_dot2_filter_aver(rd2i)>50
        rd_dot2_filter_aver(rd2i)=50;
    end
    if rd_dot2_filter_aver(rd2i)<-50
        rd_dot2_filter_aver(rd2i)=-50;
    end
end
% u = rd_dot2_td*1 + inv(Km)*(Kp2*(err_p) + Kd2*0*err_w + Fp*1);
% u = rd_dot2_td*1 + (diag([20000 20000 20000])/1-K2-inv(A)*K*Jp_33'*K2)*err_p + (diag([70 70 70])/1-K3*0-inv(A)*K*Jp_33'*K3)*err_w*1 - inv(Km)*Fp;
u = rd_dot2_td*1 + (diag([20000 20000 20000])/1-K2-inv(A)*K*Jp_33'*K2)*err_p - inv(Km)*(Fp-Fd);
% ul=(-K3-inv(A)*K*Jp_33'*K3)*err_w
% wwA = inv(A)*K*Jp_33'*K3
% wwB = (diag([20000 20000 20000])/1-K2-inv(A)*K*Jp_33'*K2)

% Jp_33'
% Tl = (Jp_33')*A*u*1 + B*r_dot*1 + G1 + F*1 - diag([4 4 2])*r_dot*0
Tl = A*u*1 + B*r_dot*1 + G1 + F*1 - diag([4 4 2])*r_dot*0
% Tl = F + G1 - diag([4 4 2])*r_dot;

Fd_last = Fd;
Fd_dot_last = Fd_dot;
Fd_dot2_last = Fd_dot2;
Fp_last = Fp;
rd_last = rd;


rd_dot_last = rd_dot;
r_last = r;
r_dot_last = r_dot;
%%
% pHRI_fr = BushingForce.safeDownCast(model.updComponent('pHRI_fr'));
% iv_fr = pHRI_fr.getRecordValues(state);
% Ff_r = [iv_fr.get(7-1);iv_fr.get(8-1);iv_fr.get(12-1)];

% w = [w1;w2;w3;w4;w5;w6];
% w'

% Kp = [4;4;4]*0.2;
% Kf = [0.2*1;0.2*1;0.2*1]*1;
% Kw = [-0.4*2;-0.4*2;-0.4*2;0.4;0.4;0.4]*100;
% qqq=[q1 q2 q3]
% G1 = [-G(1:3,1);G(4:6,1)];
% Ta = -Jp'*(Kp.*Fp)*0 + Jf1'*(Kf.*Ff_l)*0 - Kw.*w*0 + G1
% Ta = G1*1;
% Ta=[65.7;-45.28;0;0;0;0]*0;
% Ta = Ta*0;

Ta = [-Tl;0;0;0]*1;
for i=1:6
    if Ta(i)>1000
        Ta(i)=1000;
    elseif Ta(i)<-1000
        Ta(i)=-1000;
    end
end

Excites = flip(Ta);



end

