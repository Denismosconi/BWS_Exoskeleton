function [Excites,E,r_dot] = ExciteCalculate_Stance(t,model,state)
%UNTITLED2 此处显示有关此函数的摘要
%   此处显示详细说明

%右腿支撑时的控制；

import org.opensim.modeling.*;

% 这里采用逆动态控制方法；
% 右腿支撑动力学模型：

m1 = 2.4;
m2 = 2.0;
m3 = 2.3*2*1;
m4 = 2.0*1;
m5 = 2.4*1;
m6 = 0.8*1;
% 验证鲁棒性用；
% m1 = 1.2*m1;
% m2 = 1.2*m2;
% m3 = 1.2*m3;
% m4 = 1.2*m4;
% m5 = 1.2*m5;
% m6 = 1.2*m6;

% m1 = 0.8*m1;
% m2 = 0.8*m2;
% m3 = 0.8*m3;
% m4 = 0.8*m4;
% m5 = 0.8*m5;
% m6 = 0.8*m6;
%
I1zz = 87140.978/1000000;  % 这里的z轴是stl坐标系的-y轴；
I2zz = 51619.741/1000000;
I3zz = 89.002*11.5*2/1000000;
I4zz = 51619.741/1000000;
I5zz = 87140.978/1000000;
I6zz = 22644.142/1000000;
g1x = 0.3839;
g1y = 0.0017;
g2x = 0.3558;
g2y =  -2.1120e-04*0;
g3x = 0.0622;
g3y = -0.0936;
g4x = 0.2642;
g4y = 0;
g5x = 0.2661;
g5y = -0.0015;
g6x = 0.06;
g6y = 0.0033;
g = 9.806645;
L1 = 0.65;
L2 = 0.62;
L4 = 0.62;
L5 = 0.65;
pcx = 0.0622;
pcy = -0.0911;
lcx = pcx + 0.2;
lcy = pcy;
% pcz = -0.1096;
% fcx = 0.06;
% fcy = 0.0033;
% fcz = 0;

j6 = Coordinate.safeDownCast(model.updComponent('jb5b6/jb5b6_coord_0'));
j5 = Coordinate.safeDownCast(model.updComponent('jb55b5/jb55b5_coord_0'));
j4 = Coordinate.safeDownCast(model.updComponent('jb41b42/jb41b42_coord_0'));
j3 = Coordinate.safeDownCast(model.updComponent('jb12b13/jb12b13_coord_0'));
j2 = Coordinate.safeDownCast(model.updComponent('jb26b34/jb26b34_coord_0'));
j1 = Coordinate.safeDownCast(model.updComponent('jb34b35/jb34b35_coord_0'));
q1 = -j1.getValue(state);
q2 = -j2.getValue(state);
q3 = -j3.getValue(state);
q4 = -j4.getValue(state);
q5 = -j5.getValue(state);
q6 = -j6.getValue(state);
w1 = -j1.getSpeedValue(state);
w2 = -j2.getSpeedValue(state);
w3 = -j3.getSpeedValue(state);
w4 = -j4.getSpeedValue(state);
w5 = -j5.getSpeedValue(state);
w6 = -j6.getSpeedValue(state);
e1 = -j1.getAccelerationValue(state);
e2 = -j2.getAccelerationValue(state);
e3 = -j3.getAccelerationValue(state);
e4 = -j4.getAccelerationValue(state);
e5 = -j5.getAccelerationValue(state);
e6 = -j6.getAccelerationValue(state);

M =[ I1zz + I2zz + I3zz + I4zz + I5zz + I6zz + L1^2*m2 + L1^2*m3 + L1^2*m4 + L2^2*m3 + L1^2*m5 + L2^2*m4 + L1^2*m6 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g1x^2*m1 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g1y^2*m1 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - 2*L1*g5x*m5*cos(q2 + q3 + q4 + q5) - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + 2*L1*g5y*m5*sin(q2 + q3 + q4 + q5) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) + 2*L1*g3x*m3*cos(q2 + q3) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - 2*L1*g3y*m3*sin(q2 + q3) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L1*L2*m3*cos(q2) + 2*L1*L2*m4*cos(q2) + 2*L1*L2*m5*cos(q2) + 2*L1*L2*m6*cos(q2) + 2*L4*L5*m6*cos(q5) + 2*L1*g2x*m2*cos(q2) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L1*g2y*m2*sin(q2) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - 2*L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - 2*L1*L4*m5*cos(q2 + q3 + q4) - 2*L1*L4*m6*cos(q2 + q3 + q4) - 2*L2*L5*m6*cos(q3 + q4 + q5) + 2*L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - 2*L1*g4x*m4*cos(q2 + q3 + q4) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + 2*L1*g4y*m4*sin(q2 + q3 + q4) + 2*L2*g5y*m5*sin(q3 + q4 + q5) - 2*L1*L5*m6*cos(q2 + q3 + q4 + q5), I2zz + I3zz + I4zz + I5zz + I6zz + L2^2*m3 + L2^2*m4 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + L1*L2*m3*cos(q2) + L1*L2*m4*cos(q2) + L1*L2*m5*cos(q2) + L1*L2*m6*cos(q2) + 2*L4*L5*m6*cos(q5) + L1*g2x*m2*cos(q2) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L1*g2y*m2*sin(q2) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - 2*L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + 2*L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5), I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6)
                                                                                                                  I2zz + I3zz + I4zz + I5zz + I6zz + L2^2*m3 + L2^2*m4 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + L1*L2*m3*cos(q2) + L1*L2*m4*cos(q2) + L1*L2*m5*cos(q2) + L1*L2*m6*cos(q2) + 2*L4*L5*m6*cos(q5) + L1*g2x*m2*cos(q2) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L1*g2y*m2*sin(q2) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - 2*L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + 2*L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 I2zz + I3zz + I4zz + I5zz + I6zz + L2^2*m3 + L2^2*m4 + L2^2*m5 + L2^2*m6 + L4^2*m5 + L4^2*m6 + L5^2*m6 + g2x^2*m2 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g2y^2*m2 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - 2*L2*g6x*m6*cos(q3 + q4 + q5 + q6) - 2*L2*L4*m5*cos(q3 + q4) - 2*L2*L4*m6*cos(q3 + q4) + 2*L2*g6y*m6*sin(q3 + q4 + q5 + q6) - 2*L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + 2*L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - 2*L2*L5*m6*cos(q3 + q4 + q5) - 2*L2*g5x*m5*cos(q3 + q4 + q5) + 2*L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                       I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                 I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                               I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                           I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6)
                                                                                                                                                                                                                                                                                                                                       I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L1*g3x*m3*cos(q2 + q3) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) - L1*g3y*m3*sin(q2 + q3) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + L2*g3x*m3*cos(q3) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L2*g3y*m3*sin(q3) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I3zz + I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g3x^2*m3 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g3y^2*m3 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                               m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                         I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*cos(q2 + q3 + q4) - L1*L4*m6*cos(q2 + q3 + q4) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L1*g4x*m4*cos(q2 + q3 + q4) - L2*g5x*m5*cos(q3 + q4 + q5) + L1*g4y*m4*sin(q2 + q3 + q4) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) - L2*L4*m5*cos(q3 + q4) - L2*L4*m6*cos(q3 + q4) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) - L2*g4x*m4*cos(q3 + q4) + 2*L4*g6x*m6*cos(q5 + q6) + L2*g4y*m4*sin(q3 + q4) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I4zz + I5zz + I6zz + L4^2*m5 + L4^2*m6 + L5^2*m6 + g4x^2*m4 + g5x^2*m5 + g6x^2*m6 + g4y^2*m4 + g5y^2*m5 + g6y^2*m6 + 2*L4*g6x*m6*cos(q5 + q6) - 2*L4*g6y*m6*sin(q5 + q6) + 2*L4*L5*m6*cos(q5) + 2*L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - 2*L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                               m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                         I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L1*g5x*m5*cos(q2 + q3 + q4 + q5) - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L1*g5y*m5*sin(q2 + q3 + q4 + q5) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) - L2*L5*m6*cos(q3 + q4 + q5) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5) - L1*L5*m6*cos(q2 + q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        I5zz + I6zz + L5^2*m6 + g5x^2*m5 + g6x^2*m6 + g5y^2*m5 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L4*L5*m6*cos(q5) + L4*g5x*m5*cos(q5) + 2*L5*g6x*m6*cos(q6) - L4*g5y*m5*sin(q5) - 2*L5*g6y*m6*sin(q6) - L2*L5*m6*cos(q3 + q4 + q5) - L2*g5x*m5*cos(q3 + q4 + q5) + L2*g5y*m5*sin(q3 + q4 + q5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + L4*m6*cos(q5)*L5 + m5*g5x^2 + L4*m5*cos(q5)*g5x + m6*g6x^2 + L4*m6*cos(q5 + q6)*g6x + m5*g5y^2 - L4*m5*sin(q5)*g5y + m6*g6y^2 - L4*m6*sin(q5 + q6)*g6y + I5zz + I6zz,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   m6*L5^2 + 2*m6*cos(q6)*L5*g6x - 2*m6*sin(q6)*L5*g6y + m5*g5x^2 + m6*g6x^2 + m5*g5y^2 + m6*g6y^2 + I5zz + I6zz,                                                                                                                                                                                                                               m6*g6x^2 + L5*m6*cos(q6)*g6x + m6*g6y^2 - L5*m6*sin(q6)*g6y + I6zz
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6) - L1*g6x*m6*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*sin(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   I6zz + g6x^2*m6 + g6y^2*m6 - L2*g6x*m6*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*sin(q3 + q4 + q5 + q6) + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               I6zz + g6x^2*m6 + g6y^2*m6 + L4*g6x*m6*cos(q5 + q6) - L4*g6y*m6*sin(q5 + q6) + L5*g6x*m6*cos(q6) - L5*g6y*m6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              m6*g6x^2 + L5*m6*cos(q6)*g6x + m6*g6y^2 - L5*m6*sin(q6)*g6y + I6zz,                                                                                             I6zz + m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6))^2 + m6*(g6x*cos(q1 + q2 + q3 + q4 + q5 + q6) - g6y*sin(q1 + q2 + q3 + q4 + q5 + q6))^2];
 
C =[ L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) - L1*g3y*m3*w2*cos(q2 + q3) - L1*g3y*m3*w3*cos(q2 + q3) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L1*g3x*m3*w2*sin(q2 + q3) - L1*g3x*m3*w3*sin(q2 + q3) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L1*L2*m3*w2*sin(q2) - L1*L2*m4*w2*sin(q2) - L1*L2*m5*w2*sin(q2) - L1*L2*m6*w2*sin(q2) - L4*L5*m6*w5*sin(q5) - L1*g2y*m2*w2*cos(q2) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L1*g2x*m2*w2*sin(q2) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w1*sin(q2 + q3 + q4) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m6*w1*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w1*cos(q2 + q3 + q4) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w1*sin(q2 + q3 + q4) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) - L1*g3y*m3*w1*cos(q2 + q3) - L1*g3y*m3*w2*cos(q2 + q3) - L1*g3y*m3*w3*cos(q2 + q3) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L1*g3x*m3*w1*sin(q2 + q3) - L1*g3x*m3*w2*sin(q2 + q3) - L1*g3x*m3*w3*sin(q2 + q3) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L1*L2*m3*w1*sin(q2) - L1*L2*m3*w2*sin(q2) - L1*L2*m4*w1*sin(q2) - L1*L2*m4*w2*sin(q2) - L1*L2*m5*w1*sin(q2) - L1*L2*m5*w2*sin(q2) - L1*L2*m6*w1*sin(q2) - L1*L2*m6*w2*sin(q2) - L4*L5*m6*w5*sin(q5) - L1*g2y*m2*w1*cos(q2) - L1*g2y*m2*w2*cos(q2) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L1*g2x*m2*w1*sin(q2) - L1*g2x*m2*w2*sin(q2) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w1*sin(q2 + q3 + q4) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m6*w1*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w1*cos(q2 + q3 + q4) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w1*sin(q2 + q3 + q4) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) - L1*g3y*m3*w1*cos(q2 + q3) - L1*g3y*m3*w2*cos(q2 + q3) - L1*g3y*m3*w3*cos(q2 + q3) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L1*g3x*m3*w1*sin(q2 + q3) - L1*g3x*m3*w2*sin(q2 + q3) - L1*g3x*m3*w3*sin(q2 + q3) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*g3y*m3*w1*cos(q3) - L2*g3y*m3*w2*cos(q3) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L2*g3x*m3*w1*sin(q3) - L2*g3x*m3*w2*sin(q3) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L1*L4*m5*w1*sin(q2 + q3 + q4) + L1*L4*m5*w2*sin(q2 + q3 + q4) + L1*L4*m6*w1*sin(q2 + q3 + q4) + L1*L4*m5*w3*sin(q2 + q3 + q4) + L1*L4*m6*w2*sin(q2 + q3 + q4) + L1*L4*m5*w4*sin(q2 + q3 + q4) + L1*L4*m6*w3*sin(q2 + q3 + q4) + L1*L4*m6*w4*sin(q2 + q3 + q4) + L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L1*g4y*m4*w1*cos(q2 + q3 + q4) + L1*g4y*m4*w2*cos(q2 + q3 + q4) + L1*g4y*m4*w3*cos(q2 + q3 + q4) + L1*g4y*m4*w4*cos(q2 + q3 + q4) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L1*g4x*m4*w1*sin(q2 + q3 + q4) + L1*g4x*m4*w2*sin(q2 + q3 + q4) + L1*g4x*m4*w3*sin(q2 + q3 + q4) + L1*g4x*m4*w4*sin(q2 + q3 + q4) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w2*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w3*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w4*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w5*sin(q2 + q3 + q4 + q5 + q6) + L1*g6x*m6*w6*sin(q2 + q3 + q4 + q5 + q6) + L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w2*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w3*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w4*sin(q2 + q3 + q4 + q5) + L1*L5*m6*w5*sin(q2 + q3 + q4 + q5) + L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w2*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w3*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w4*cos(q2 + q3 + q4 + q5) + L1*g5y*m5*w5*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w2*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w3*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w4*sin(q2 + q3 + q4 + q5) + L1*g5x*m5*w5*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) + L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w2*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w3*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w4*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w5*cos(q2 + q3 + q4 + q5 + q6) + L1*g6y*m6*w6*cos(q2 + q3 + q4 + q5 + q6), m6*(w1 + w2 + w3 + w4 + w5 + w6)*(L1*g6y*cos(q2 + q3 + q4 + q5 + q6) + L1*g6x*sin(q2 + q3 + q4 + q5 + q6) + L2*g6y*cos(q3 + q4 + q5 + q6) + L2*g6x*sin(q3 + q4 + q5 + q6) - L4*g6y*cos(q5 + q6) - L4*g6x*sin(q5 + q6) - L5*g6y*cos(q6) - L5*g6x*sin(q6))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           L2*L5*m6*w3*sin(q3 + q4 + q5) - L1*L4*m5*w1*sin(q2 + q3 + q4) - L1*L4*m6*w1*sin(q2 + q3 + q4) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) - L1*g4y*m4*w1*cos(q2 + q3 + q4) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) - L1*g4x*m4*w1*sin(q2 + q3 + q4) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L1*g3y*m3*w1*cos(q2 + q3) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L1*g3x*m3*w1*sin(q2 + q3) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) + L1*L2*m3*w1*sin(q2) + L1*L2*m4*w1*sin(q2) + L1*L2*m5*w1*sin(q2) + L1*L2*m6*w1*sin(q2) - L4*L5*m6*w5*sin(q5) + L1*g2y*m2*w1*cos(q2) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) + L1*g2x*m2*w1*sin(q2) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*g3y*m3*w1*cos(q3) - L2*g3y*m3*w2*cos(q3) - L2*g3y*m3*w3*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L2*g3x*m3*w1*sin(q3) - L2*g3x*m3*w2*sin(q3) - L2*g3x*m3*w3*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) + L2*L4*m5*w1*sin(q3 + q4) + L2*L4*m5*w2*sin(q3 + q4) + L2*L4*m6*w1*sin(q3 + q4) + L2*L4*m5*w3*sin(q3 + q4) + L2*L4*m6*w2*sin(q3 + q4) + L2*L4*m5*w4*sin(q3 + q4) + L2*L4*m6*w3*sin(q3 + q4) + L2*L4*m6*w4*sin(q3 + q4) + L2*g4y*m4*w1*cos(q3 + q4) + L2*g4y*m4*w2*cos(q3 + q4) + L2*g4y*m4*w3*cos(q3 + q4) + L2*g4y*m4*w4*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L2*g4x*m4*w1*sin(q3 + q4) + L2*g4x*m4*w2*sin(q3 + q4) + L2*g4x*m4*w3*sin(q3 + q4) + L2*g4x*m4*w4*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*L5*m6*w2*sin(q3 + q4 + q5) + L2*L5*m6*w3*sin(q3 + q4 + q5) + L2*L5*m6*w4*sin(q3 + q4 + q5) + L2*L5*m6*w5*sin(q3 + q4 + q5) + L2*g5y*m5*w1*cos(q3 + q4 + q5) + L2*g5y*m5*w2*cos(q3 + q4 + q5) + L2*g5y*m5*w3*cos(q3 + q4 + q5) + L2*g5y*m5*w4*cos(q3 + q4 + q5) + L2*g5y*m5*w5*cos(q3 + q4 + q5) + L2*g5x*m5*w1*sin(q3 + q4 + q5) + L2*g5x*m5*w2*sin(q3 + q4 + q5) + L2*g5x*m5*w3*sin(q3 + q4 + q5) + L2*g5x*m5*w4*sin(q3 + q4 + q5) + L2*g5x*m5*w5*sin(q3 + q4 + q5) + L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w3*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w4*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w5*cos(q3 + q4 + q5 + q6) + L2*g6y*m6*w6*cos(q3 + q4 + q5 + q6) + L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w3*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w4*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w5*sin(q3 + q4 + q5 + q6) + L2*g6x*m6*w6*sin(q3 + q4 + q5 + q6) - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                    -m6*(L4*g6y*cos(q5 + q6) - L2*g6x*sin(q3 + q4 + q5 + q6) - L2*g6y*cos(q3 + q4 + q5 + q6) + L4*g6x*sin(q5 + q6) + L5*g6y*cos(q6) + L5*g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     L1*g3y*m3*w1*cos(q2 + q3) - L1*L4*m5*w1*sin(q2 + q3 + q4) - L1*L4*m6*w1*sin(q2 + q3 + q4) - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L1*g4y*m4*w1*cos(q2 + q3 + q4) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L1*g4x*m4*w1*sin(q2 + q3 + q4) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) + L1*g3x*m3*w1*sin(q2 + q3) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) + L2*g3y*m3*w1*cos(q3) + L2*g3y*m3*w2*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) + L2*g3x*m3*w1*sin(q3) + L2*g3x*m3*w2*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           L2*g3y*m3*w1*cos(q3) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L2*L5*m6*w1*sin(q3 + q4 + q5) + L2*g3y*m3*w2*cos(q3) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) + L2*g3x*m3*w1*sin(q3) + L2*g3x*m3*w2*sin(q3) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                            -m6*(L4*g6y*cos(q5 + q6) + L4*g6x*sin(q5 + q6) + L5*g6y*cos(q6) + L5*g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) - L1*L4*m5*w1*sin(q2 + q3 + q4) - L1*L4*m6*w1*sin(q2 + q3 + q4) - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L1*g4y*m4*w1*cos(q2 + q3 + q4) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L1*g4x*m4*w1*sin(q2 + q3 + q4) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L4*m5*w1*sin(q3 + q4) - L2*L4*m5*w2*sin(q3 + q4) - L2*L4*m6*w1*sin(q3 + q4) - L2*L4*m6*w2*sin(q3 + q4) - L2*g4y*m4*w1*cos(q3 + q4) - L2*g4y*m4*w2*cos(q3 + q4) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L2*g4x*m4*w1*sin(q3 + q4) - L2*g4x*m4*w2*sin(q3 + q4) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - L4*g6y*m6*w1*cos(q5 + q6) - L4*g6y*m6*w2*cos(q5 + q6) - L4*g6y*m6*w3*cos(q5 + q6) - L4*g6y*m6*w4*cos(q5 + q6) - L4*g6y*m6*w5*cos(q5 + q6) - L4*g6y*m6*w6*cos(q5 + q6) - L4*g6x*m6*w1*sin(q5 + q6) - L4*g6x*m6*w2*sin(q5 + q6) - L4*g6x*m6*w3*sin(q5 + q6) - L4*g6x*m6*w4*sin(q5 + q6) - L4*g6x*m6*w5*sin(q5 + q6) - L4*g6x*m6*w6*sin(q5 + q6) - L4*L5*m6*w1*sin(q5) - L4*L5*m6*w2*sin(q5) - L4*L5*m6*w3*sin(q5) - L4*L5*m6*w4*sin(q5) - L4*L5*m6*w5*sin(q5) - L4*g5y*m5*w1*cos(q5) - L4*g5y*m5*w2*cos(q5) - L4*g5y*m5*w3*cos(q5) - L4*g5y*m5*w4*cos(q5) - L4*g5y*m5*w5*cos(q5) - L5*g6y*m6*w6*cos(q6) - L4*g5x*m5*w1*sin(q5) - L4*g5x*m5*w2*sin(q5) - L4*g5x*m5*w3*sin(q5) - L4*g5x*m5*w4*sin(q5) - L4*g5x*m5*w5*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                            -m6*(L4*g6y*cos(q5 + q6) + L4*g6x*sin(q5 + q6) + L5*g6y*cos(q6) + L5*g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   L4*g6y*m6*w1*cos(q5 + q6) - L2*L5*m6*w1*sin(q3 + q4 + q5) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L1*L5*m6*w1*sin(q2 + q3 + q4 + q5) - L1*g5y*m5*w1*cos(q2 + q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L1*g5x*m5*w1*sin(q2 + q3 + q4 + q5) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         L4*g6y*m6*w1*cos(q5 + q6) - L2*L5*m6*w2*sin(q3 + q4 + q5) - L2*g5y*m5*w1*cos(q3 + q4 + q5) - L2*g5y*m5*w2*cos(q3 + q4 + q5) - L2*g5x*m5*w1*sin(q3 + q4 + q5) - L2*g5x*m5*w2*sin(q3 + q4 + q5) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L2*L5*m6*w1*sin(q3 + q4 + q5) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             L4*g6y*m6*w1*cos(q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             L4*g6y*m6*w1*cos(q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L4*L5*m6*w1*sin(q5) + L4*L5*m6*w2*sin(q5) + L4*L5*m6*w3*sin(q5) + L4*L5*m6*w4*sin(q5) + L4*g5y*m5*w1*cos(q5) + L4*g5y*m5*w2*cos(q5) + L4*g5y*m5*w3*cos(q5) + L4*g5y*m5*w4*cos(q5) - L5*g6y*m6*w6*cos(q6) + L4*g5x*m5*w1*sin(q5) + L4*g5x*m5*w2*sin(q5) + L4*g5x*m5*w3*sin(q5) + L4*g5x*m5*w4*sin(q5) - L5*g6x*m6*w6*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    -L5*m6*w6*(g6y*cos(q6) + g6x*sin(q6)),                                                                                                                                                                                                               -L5*m6*(g6y*cos(q6) + g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5 + w6)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               L4*g6y*m6*w1*cos(q5 + q6) - L2*g6y*m6*w1*cos(q3 + q4 + q5 + q6) - L2*g6y*m6*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*m6*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*m6*w2*sin(q3 + q4 + q5 + q6) - L1*g6x*m6*w1*sin(q2 + q3 + q4 + q5 + q6) + L4*g6y*m6*w2*cos(q5 + q6) + L4*g6y*m6*w3*cos(q5 + q6) + L4*g6y*m6*w4*cos(q5 + q6) + L4*g6x*m6*w1*sin(q5 + q6) + L4*g6x*m6*w2*sin(q5 + q6) + L4*g6x*m6*w3*sin(q5 + q6) + L4*g6x*m6*w4*sin(q5 + q6) + L5*g6y*m6*w1*cos(q6) + L5*g6y*m6*w2*cos(q6) + L5*g6y*m6*w3*cos(q6) + L5*g6y*m6*w4*cos(q6) + L5*g6y*m6*w5*cos(q6) + L5*g6x*m6*w1*sin(q6) + L5*g6x*m6*w2*sin(q6) + L5*g6x*m6*w3*sin(q6) + L5*g6x*m6*w4*sin(q6) + L5*g6x*m6*w5*sin(q6) - L1*g6y*m6*w1*cos(q2 + q3 + q4 + q5 + q6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  m6*(L4*g6y*w1*cos(q5 + q6) - L2*g6y*w2*cos(q3 + q4 + q5 + q6) - L2*g6x*w1*sin(q3 + q4 + q5 + q6) - L2*g6x*w2*sin(q3 + q4 + q5 + q6) - L2*g6y*w1*cos(q3 + q4 + q5 + q6) + L4*g6y*w2*cos(q5 + q6) + L4*g6y*w3*cos(q5 + q6) + L4*g6y*w4*cos(q5 + q6) + L4*g6x*w1*sin(q5 + q6) + L4*g6x*w2*sin(q5 + q6) + L4*g6x*w3*sin(q5 + q6) + L4*g6x*w4*sin(q5 + q6) + L5*g6y*w1*cos(q6) + L5*g6y*w2*cos(q6) + L5*g6y*w3*cos(q6) + L5*g6y*w4*cos(q6) + L5*g6y*w5*cos(q6) + L5*g6x*w1*sin(q6) + L5*g6x*w2*sin(q6) + L5*g6x*w3*sin(q6) + L5*g6x*w4*sin(q6) + L5*g6x*w5*sin(q6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              m6*(L4*g6y*w1*cos(q5 + q6) + L4*g6y*w2*cos(q5 + q6) + L4*g6y*w3*cos(q5 + q6) + L4*g6y*w4*cos(q5 + q6) + L4*g6x*w1*sin(q5 + q6) + L4*g6x*w2*sin(q5 + q6) + L4*g6x*w3*sin(q5 + q6) + L4*g6x*w4*sin(q5 + q6) + L5*g6y*w1*cos(q6) + L5*g6y*w2*cos(q6) + L5*g6y*w3*cos(q6) + L5*g6y*w4*cos(q6) + L5*g6y*w5*cos(q6) + L5*g6x*w1*sin(q6) + L5*g6x*w2*sin(q6) + L5*g6x*w3*sin(q6) + L5*g6x*w4*sin(q6) + L5*g6x*w5*sin(q6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              m6*(L4*g6y*w1*cos(q5 + q6) + L4*g6y*w2*cos(q5 + q6) + L4*g6y*w3*cos(q5 + q6) + L4*g6y*w4*cos(q5 + q6) + L4*g6x*w1*sin(q5 + q6) + L4*g6x*w2*sin(q5 + q6) + L4*g6x*w3*sin(q5 + q6) + L4*g6x*w4*sin(q5 + q6) + L5*g6y*w1*cos(q6) + L5*g6y*w2*cos(q6) + L5*g6y*w3*cos(q6) + L5*g6y*w4*cos(q6) + L5*g6y*w5*cos(q6) + L5*g6x*w1*sin(q6) + L5*g6x*w2*sin(q6) + L5*g6x*w3*sin(q6) + L5*g6x*w4*sin(q6) + L5*g6x*w5*sin(q6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           L5*m6*(g6y*cos(q6) + g6x*sin(q6))*(w1 + w2 + w3 + w4 + w5),                                                                                                                                                                                                                                                                                      0];
 
G =[g*g6y*m6*cos(q1 + q2 + q3 + q4 + q5 + q6) + g*g6x*m6*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*g*m5*sin(q1 + q2 + q3 + q4) + L4*g*m6*sin(q1 + q2 + q3 + q4) + g*g4y*m4*cos(q1 + q2 + q3 + q4) + g*g4x*m4*sin(q1 + q2 + q3 + q4) - L2*g*m3*sin(q1 + q2) - L2*g*m4*sin(q1 + q2) - L2*g*m5*sin(q1 + q2) - L2*g*m6*sin(q1 + q2) - g*g2y*m2*cos(q1 + q2) - g*g2x*m2*sin(q1 + q2) - L1*g*m2*sin(q1) - L1*g*m3*sin(q1) - L1*g*m4*sin(q1) - L1*g*m5*sin(q1) - L1*g*m6*sin(q1) - g*g1y*m1*cos(q1) - g*g1x*m1*sin(q1) + L5*g*m6*sin(q1 + q2 + q3 + q4 + q5) + g*g5y*m5*cos(q1 + q2 + q3 + q4 + q5) + g*g5x*m5*sin(q1 + q2 + q3 + q4 + q5) - g*g3y*m3*cos(q1 + q2 + q3) - g*g3x*m3*sin(q1 + q2 + q3)
                                                                                                                                                                                          g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2) + L5*sin(q1 + q2 + q3 + q4 + q5)) - g*m2*(g2y*cos(q1 + q2) + g2x*sin(q1 + q2)) + g*m4*(g4y*cos(q1 + q2 + q3 + q4) + g4x*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2)) - g*m3*(L2*sin(q1 + q2) + g3y*cos(q1 + q2 + q3) + g3x*sin(q1 + q2 + q3)) + g*m5*(L4*sin(q1 + q2 + q3 + q4) - L2*sin(q1 + q2) + g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                           g*m4*(g4y*cos(q1 + q2 + q3 + q4) + g4x*sin(q1 + q2 + q3 + q4)) - g*m3*(g3y*cos(q1 + q2 + q3) + g3x*sin(q1 + q2 + q3)) + g*m5*(L4*sin(q1 + q2 + q3 + q4) + g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5)) + g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*sin(q1 + q2 + q3 + q4) + L5*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                                                                                        g*m4*(g4y*cos(q1 + q2 + q3 + q4) + g4x*sin(q1 + q2 + q3 + q4)) + g*m5*(L4*sin(q1 + q2 + q3 + q4) + g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5)) + g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L4*sin(q1 + q2 + q3 + q4) + L5*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 g*m5*(g5y*cos(q1 + q2 + q3 + q4 + q5) + g5x*sin(q1 + q2 + q3 + q4 + q5)) + g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6) + L5*sin(q1 + q2 + q3 + q4 + q5))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            g*m6*(g6y*cos(q1 + q2 + q3 + q4 + q5 + q6) + g6x*sin(q1 + q2 + q3 + q4 + q5 + q6))];
Jp =[   pcy*sin(q1 + q2 + q3) - pcx*cos(q1 + q2 + q3) - L2*cos(q1 + q2) - L1*cos(q1),   pcy*sin(q1 + q2 + q3) - pcx*cos(q1 + q2 + q3) - L2*cos(q1 + q2),   pcy*sin(q1 + q2 + q3) - pcx*cos(q1 + q2 + q3), 0, 0, 0
 - L1*sin(q1) - pcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - pcx*sin(q1 + q2 + q3), - pcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - pcx*sin(q1 + q2 + q3), - pcy*cos(q1 + q2 + q3) - pcx*sin(q1 + q2 + q3), 0, 0, 0
    1,      1,   1, 0, 0, 0];

Jp_dot =[L2*sin(q1 + q2)*(w1 + w2) + L1*sin(q1)*w1 + pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3) + pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3), L2*sin(q1 + q2)*(w1 + w2) + pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3) + pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3),  (pcy*cos(q1 + q2 + q3) + pcx*sin(q1 + q2 + q3))*(w1 + w2 + w3), 0, 0, 0
 pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3) - L1*cos(q1)*w1 - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3) - L2*cos(q1 + q2)*(w1 + w2), pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3) - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3) - L2*cos(q1 + q2)*(w1 + w2), -(pcx*cos(q1 + q2 + q3) - pcy*sin(q1 + q2 + q3))*(w1 + w2 + w3), 0, 0, 0
                                                                                                                                                                                                                                                              0,                                                                                                                                                                                                                               0,                                                                                                                     0, 0, 0, 0];

% Jf2 =[ 0, 0, 0, L4*sin(q4) + fcy*cos(q4 + q5 + q6) + fcx*sin(q4 + q5 + q6) + L5*sin(q4 + q5), fcy*cos(q4 + q5 + q6) + fcx*sin(q4 + q5 + q6) + L5*sin(q4 + q5), fcy*cos(q4 + q5 + q6) + fcx*sin(q4 + q5 + q6)
%  0, 0, 0, fcy*sin(q4 + q5 + q6) - L5*cos(q4 + q5) - fcx*cos(q4 + q5 + q6) - L4*cos(q4), fcy*sin(q4 + q5 + q6) - L5*cos(q4 + q5) - fcx*cos(q4 + q5 + q6), fcy*sin(q4 + q5 + q6) - fcx*cos(q4 + q5 + q6)
%  0, 0, 0,                                                                                                       1,                                                                                       1,                                                               1];


pHRI = BushingForce.safeDownCast(model.updComponent('pHRI'));
iv = pHRI.getRecordValues(state);
Fp = [iv.get(7-1);iv.get(8-1);iv.get(12-1)];

pHRI_fl = BushingForce.safeDownCast(model.updComponent('pHRI_fl'));
iv_fl = pHRI_fl.getRecordValues(state);
Fl = [iv_fl.get(7-1),iv_fl.get(8-1),iv_fl.get(12-1)];

pHRI_fr = BushingForce.safeDownCast(model.updComponent('pHRI_fr'));
iv_fr = pHRI_fr.getRecordValues(state);
Fr = [iv_fr.get(7-1),iv_fr.get(8-1),iv_fr.get(12-1)];


Jp_33 = Jp(1:3,1:3);
Jp_dot_33 = Jp_dot(1:3,1:3);
% Jload_33 = Jload(1:3,1:3);
M1 = M(1:3,1:3); M2 = M(1:3,4:6); M3 = M(4:6,1:3); M4 = M(4:6,4:6);
C1 = C(1:3,1:3); C2 = C(1:3,4:6); C3 = C(4:6,1:3); C4 = C(4:6,4:6);
G1 = G(1:3,:); G2 = G(4:6,:);
K = 5;

% Fd = -1/K*Fload;

Fd = [0;0;0];
Fd(1)=0;
Fd(3)=0;
Fd(2)=-K*(Fl(2)+Fr(2));
% Fsum=zeros(3,1);
% Fave=0;
% if t>0.01
%     load data_Fsum;
%     Fave = sum(Fsum)/3;
% end
% Fsum(2:3)=Fsum(1:2);
% Fsum(1) = Fl(2)+Fr(2);
% save data_Fsum Fsum;
% Fd(2)=-K*Fave;


r = [- L1*sin(q1) - pcy*cos(q1 + q2 + q3) - L2*sin(q1 + q2) - pcx*sin(q1 + q2 + q3)
        L2*cos(q1 + q2) + pcx*cos(q1 + q2 + q3) - pcy*sin(q1 + q2 + q3) + L1*cos(q1)
        q1 + q2 + q3];
    
r_dot = [pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3) - L1*cos(q1)*w1 - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3) - L2*cos(q1 + q2)*(w1 + w2)
 - L2*sin(q1 + q2)*(w1 + w2) - L1*sin(q1)*w1 - pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3) - pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3)
w1 + w2 + w3];

r_dot2 = [ L1*sin(q1)*w1^2 - L1*cos(q1)*e1 - pcx*cos(q1 + q2 + q3)*(e1 + e2 + e3) + pcy*cos(q1 + q2 + q3)*(w1 + w2 + w3)^2 + pcy*sin(q1 + q2 + q3)*(e1 + e2 + e3) + pcx*sin(q1 + q2 + q3)*(w1 + w2 + w3)^2 + L2*sin(q1 + q2)*(w1 + w2)^2 - L2*cos(q1 + q2)*(e1 + e2)
 pcy*sin(q1 + q2 + q3)*(w1 + w2 + w3)^2 - L1*cos(q1)*w1^2 - L1*sin(q1)*e1 - pcy*cos(q1 + q2 + q3)*(e1 + e2 + e3) - pcx*cos(q1 + q2 + q3)*(w1 + w2 + w3)^2 - pcx*sin(q1 + q2 + q3)*(e1 + e2 + e3) - L2*sin(q1 + q2)*(e1 + e2) - L2*cos(q1 + q2)*(w1 + w2)^2
e1 + e2 + e3];

pelvis_tilt = Coordinate.safeDownCast(model.updComponent('ground_pelvis/pelvis_tilt'));
pelvis_tx = Coordinate.safeDownCast(model.updComponent('ground_pelvis/pelvis_tx'));
pelvis_ty = Coordinate.safeDownCast(model.updComponent('ground_pelvis/pelvis_ty'));
rd=zeros(3,1);
rd(1) = pelvis_tx.getValue(state)-0.0196;
rd(2) = pelvis_ty.getValue(state)+0.1311;
rd(3) = pelvis_tilt.getValue(state);
rd_dot=zeros(3,1);
rd_dot(1) = 0;
rd_dot(2) = pelvis_ty.getSpeedValue(state)*1;  %仅适用于静态情况；
rd_dot(3) = 0;

delt_F = Fp*0 + Fd;
p_kp = 10000;
delt_r = delt_F/p_kp;
rd(2) = rd(2) + delt_r(2);

iJp33 = inv(Jp_33);
A = M1*iJp33;
B = C1*iJp33 - A*Jp_dot_33*iJp33;
% Kr = 2000;
% tao = 0 + Kr*[0;0;0-r(3)]*0;
% r(3)/pi*180
% Jp_33'*tao
% F = -Jp_33'*[0;Fp(2);0] + Jp_33'*[0;Fp(2)+Fd(2);0]*2 + Jp_33'*tao;

E = [rd-r;rd_dot-r_dot];
% Er_last=zeros(50,1);
% dot_Er=0;
% if t>2.01
%     load data_Er_last;
%     t
%     E
%     Er_last
%     dot_Er = (E(2)-Er_last(50))/0.01/500
%     if t>2.1
%         E(5) = dot_Er*0;
%     end
% end
% Er_last(2:50)=Er_last(1:49);
% Er_last(1) = E(2);
% save data_Er_last Er_last;

% E([1 3 4 5 6])=0;
% Er_last
% E

% un=0
% uu(1)=0;uu(3)=0;
% un
% uu=Jp_33'*un;

% K1 = diag([700-300 700 150-50*0])/2;
% K2 = diag([155-55 155 10]);

K1 = diag([700 700 150]);
K2 = diag([155 155 10]);

% K2(3,3)=100;
Ke = [K1;K2];
% Tl = B*r_dot + G1*1 + A*Ke*E + F*1 + un*1;
% temp1 = A*((0-r_dot2))*1
% temp2 = A*(Ke'*E)*1
% Tl = A*((0-r_dot2) + Ke'*E)*1 + B*r_dot + G1 + Jp_33'*F*1;
% Tl = Jp_33'*Ke'*E + B*r_dot*0 + G1 + Jp_33'*F*0
if t<1
    Tl = G1;
end
if t>=1 && t<2
%     Tl = Jp_33'*(Ke'*E) + G1;
    Tl = A*(0 + Ke'*E)*1 + B*r_dot*1 + G1*1 - Jp_33'*Fp;
end
if t>=2
%     if abs(E(1))>0.1 || max(abs(E([2 4])))>0.1 || max(abs(E([5 6])))>1
        un = [0;0;0];
%     else
%         un = FCMAC(A,E,Jp_33);
%     end
    
%     un([1 3])=0;

    Tl = A*(0 + Ke'*E)*1 + B*r_dot*1 + G1*1 - Jp_33'*Fp + 1*Jp_33'*un;
end
% r_dot2

Ta = [-Tl;0;0;0]*1;
% Ta = [-Tl;];
for i=1:6
    if Ta(i)>1000
        Ta(i)=1000;
    elseif Ta(i)<-1000
        Ta(i)=-1000;
    end
end
if Ta(3)>100
    Ta(3)=100;
elseif Ta(3)<-100
    Ta(3)=-100;
end


Excites = flip(Ta)/2 + Ta/2;
% Excites = flip(Ta);


end

